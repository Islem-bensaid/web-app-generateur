<st2i-card [metadata]="{ title: title }">
  <form *ngIf="formPersonnel" [formGroup]="formPersonnel">
    <div fxFlex="100" fxLayout="column" fxLayoutAlign="space-between stretch">
      <div
        fxFlex="100"
        class="cp5"
        fxLayout="row wrap"
        fxLayoutAlign="start center"
      >
        <span class="form-sub-title">
          {{ "adm.gu.user_info" | translate }}</span
        >
      </div>
      <br />
      <div
        fxFlex="100"
        class="cp5"
        fxLayout="row wrap"
        fxLayoutAlign="start center"
      >
        <div fxFlex="25" fxFlex.lt-md="100">
          <st2i-text-field
            [control]="getFormControl('nom', 'formPersonnel')"
            [label]="getLabel('nom')"
          ></st2i-text-field>
        </div>
        <div fxFlex="25" fxFlex.lt-md="100">
          <st2i-text-field
            [control]="getFormControl('prenom', 'formPersonnel')"
            [label]="getLabel('prenom')"
          ></st2i-text-field>
        </div>
        <div fxFlex="25" fxFlex.lt-md="100">
          <st2i-select
            [metadata]="selectSexeList"
            [

            listItems]="listSexe"
            [control]="getFormControl('sexe', 'formPersonnel')"
          ></st2i-select>
        </div>
        <div fxFlex="25" fxFlex.lt-md="100">
          <st2i-select-date
            [control]="getFormControl('dtNaissance', 'formPersonnel')"
            [label]="getLabel('dtNaissance')"
            [max]="maxDate"
          >
          </st2i-select-date>
        </div>
<!--        <div fxFlex="25" fxFlex.lt-md="100">-->
<!--          <st2i-text-field-->
<!--            [control]="getFormControl('matricule', 'formPersonnel')"-->
<!--            [label]="getLabel('matricule')"-->
<!--          ></st2i-text-field>-->
<!--        </div>-->
        <div fxFlex="25" fxFlex.lt-md="100">
          <st2i-text-field
            [control]="getFormControl('mail', 'formPersonnel')"
            [label]="getLabel('mail')"
          ></st2i-text-field>
        </div>
        <div fxFlex="25" fxFlex.lt-md="100">
          <st2i-text-field
            number="true"
            [control]="getFormControl('numTel', 'formPersonnel')"
            [label]="getLabel('numTel')"
          ></st2i-text-field>
        </div>

<!--        <div fxFlex="25" fxFlex.lt-md="100">-->
<!--          <st2i-text-field-->
<!--            number="true"-->
<!--            [control]="getFormControl('cin', 'formPersonnel')"-->
<!--            [label]="getLabel('cin')"-->
<!--          ></st2i-text-field>-->
<!--        </div>-->

      </div>
    </div>
  </form>
  <form *ngIf="form" [formGroup]="form">
    <div fxFlex="100" fxLayout="column" fxLayoutAlign="space-between stretch">
      <div
        fxFlex="100"
        class="cp5"
        fxLayout="row wrap"
        fxLayoutAlign="start center"
      >
        <span class="form-sub-title">
          {{ "adm.gu.user_auth" | translate }}</span
        >
      </div>
      <br />
      <div
        fxFlex="100"
        class="cp5"
        fxLayout="row wrap"
        fxLayoutAlign="start center"
      >
        <div fxFlex="25" fxFlex.lt-md="100">
          <st2i-text-field
            [control]="getFormControl('login', 'form')"
            [label]="getLabel('login')"
          ></st2i-text-field>
        </div>
        <div fxFlex="25" fxFlex.lt-md="100">
          <st2i-text-field
            [control]="getFormControl('password', 'form')"
            type="password"
            [label]="getLabel('password')"
          ></st2i-text-field>
        </div>
        <div fxFlex="25" fxFlex.lt-md="100">
          <st2i-text-field
            [control]="getFormControl('confirmPassword', 'form')"
            type="password"
            [label]="getLabel('confirmPassword')"
          ></st2i-text-field>
        </div>
        <div fxFlex="25" fxFlex.lt-md="100">
          <st2i-select
            [metadata]="selectEtatProfil"
            [listItems]="listStatus"
            [control]="getFormControl('actif', 'form')"
          ></st2i-select>
        </div>
<!--        <div fxFlex="25" fxFlex.lt-md="100">-->
<!--          <st2i-select-date-->
<!--            [control]="getFormControl('dtExpiration', 'formPersonnel')"-->
<!--            [label]="getLabel('dtExpiration')"-->
<!--          >-->
<!--          </st2i-select-date>-->
<!--        </div>-->
      </div>
      <br />
    </div>
  </form>
  <app-table-gestion-profils
    [checker]="true"
    [responsePayload]="responsePayload"
    (checkedData)="setDataProfil($event)"
    (sort)="onSortListProfil($event)"
    (paginate)="onPaginateListProfil($event)"
    [hasAdd]="false"
  >
  </app-table-gestion-profils>
  <div fxLayoutAlign="end center">
    <st2i-button-loading
      color="primary"
      (click)="onSave()"
      [loading]="isLoading"
      btnClass="mx-2"
    >
      {{ "general.save" | translate }}
    </st2i-button-loading>
    <button
      (click)="backToList()"
      style="background-color: #3e90d0; color: white"
      mat-button
    >
      <span translate>general.back</span>
    </button>
  </div>
</st2i-card>
