<st2i-dialog [title]="metadata.title">
    <div fxFlex="100" fxLayout="row wrap">
        <div fxFlex="100" fxFlex.lt-md="100" fxLayout="column" fxLayoutAlign="space-between stretch">
            <form [formGroup]="form" fxFlex="100" fxFlex.lt-md="100" fxLayout="row nowrap" fxLayoutAlign="start center">
                <div fxFlex="100" fxLayout="column" fxLayoutAlign="space-between stretch">
                    <div fxFlex="100" class="cp5" fxLayout="row wrap" fxLayoutAlign="start center">
                        <div fxFlex="25" fxFlex.lt-md="100">
                            <st2i-text-field
                              [label]="getLabel(0)"
                              [control]="getFormControl(0)"
                            ></st2i-text-field>
                        </div>
<!--                        <div fxFlex="25" fxFlex.lt-md="100">-->
<!--                            <st2i-select-->
<!--                                    [metadata]="params?.typeDoc?.metadata"-->
<!--                                    [listItems]="params?.typeDoc?.data"-->
<!--                                    [control]="getFormControl(1)"-->
<!--                            ></st2i-select>-->
<!--                        </div>-->
                        <div fxFlex fxFlex.lt-md="100">
                            <st2i-text-field [control]="getFormControl(2)"
                                             [label]="getLabel(2)"
                            ></st2i-text-field>
                        </div>
<!--                        <div fxFlex="100" fxFlex.lt-md="100">-->
<!--                            <st2i-text-area-->
<!--                                    [control]="getFormControl(3)"-->
<!--                                    [label]="getLabel(3)"-->
<!--                                    rows="3">-->
<!--                            </st2i-text-area>-->
<!--                        </div>-->
                    </div>
                </div>
            </form>
            <span class="px-2" style="color: red" *ngIf="msgAcceptedFileTypes">{{msgAcceptedFileTypes | translate}}</span>
            <div fxFlex="100" fxLayout="row nowrap" fxLayoutAlign="start center">
                <input type="file" [accept]="acceptedFilesTypes" [hidden]="true" (change)="onFileSelected($event)" #fileUpload [multiple]="true">
                <st2i-datatable fxFlex="100" fxFlex.lt-md="100"
                                [responsePayload]="params?.tableAtachFiles?.responsePayload"
                                [metadata]="params?.tableAtachFiles?.metadata"
                                (onAction)="onAction(this,$event)"
                                #attachFielsDatatable
                ></st2i-datatable>
            </div>
            <div fxFlex="100" fxLayout="row wrap" fxLayoutAlign="end center">
                <st2i-button-loading (click)="onSave()" btnClass="save-btn mx-2" [loading]="params['saveDocLoading']">
                    <div fxLayoutAlign="center center">
                        <mat-icon class="mx-1" style="font-size: 1.4rem;">save_outline</mat-icon>
                        <span>{{ 'general.save' | translate }}</span>
                    </div>
                </st2i-button-loading>
                <button mat-raised-button type="button" class="cancel-btn"  (click)="dialogRef.close({data: null})">
                    <mat-icon style="font-size: 1.4rem;">close</mat-icon>
                    <span>{{ 'general.cancel' | translate }}</span>
                </button>
            </div>
        </div>
    </div>
<!--    <st2i-spinner-container [isLoading]="params['saveDocLoading']"></st2i-spinner-container>-->
</st2i-dialog>
